# Debugging- Prod

## Login to server

## attach the docker Container

sudo docker ps

sudo docker attach \<docker-id>

## Change the location to application directory

cd /root/microservices/indusInd/log\_debug

## Find the Onboarding ID (Object ID) from mongodb

We can access the mongodb from app server itself

mongo --host mongo.prv

use indusInd

db.Onboarding.find({"signzyAppId":\<mention the app-id to search>}).pretty()

&#x20;copy object id which you will find in (\_id:"5c98bead5dcb2c0e905ce3a5")

## find the logs on the basis of Onboarding ID (object ID)

cd /root/microservices/indusInd/log\_debug

less \<mention Onboarding-ID>.txt

## For debugging the application ID from pm2

To get the application status (running or not) this will give you the service or application which are running.

pm2 list&#x20;

pm2 logs \<mention the service id>

## You can even check the same above logs which are getting stored in below location

cat /root/.pm2/logs/indusind-back-out.log

## E-MAIL DOCUMENT FINDING&#x20;

Go into mongo database

Find signzyappID through on-boarding ID

In Morphon search by  on-boarding ID&#x20;

There Entity and AS morphon will be there, search there.

## API Search in Logs

| S. No. | API                                                                                          | Command to Find                                                                                  | Sample Request and Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ------ | -------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1      | Lead Creation API                                                                            | PM2, Data based search, (Mobile No., Name and ECN number)                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|        | Lead Status API for Following                                                                |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2      | Journey to Start                                                                             | pm2 logs search by application id                                                                | {"method":"POST","url":"https://indusindimaxuat.decimaltech.net/IndusindLMSTabBanking/TabBankingToLMS","time":true,"headers":{"Content-Type":"application/json","Accept":"application/json"},"body":"\[{\n \\"clientId\\": \\"2c7a980ddd277d5f29b92cea817724c2a6039583\\",\n \\"txnId\\":\\"504163864490427\\",\n \\"Id\\": \\"P8717201902181242114571,POPP8717201902181242112443\\",\n \\"leadStatus\\": \\"Journey In-complete\\",\n \\"expectedIPVal\\": \\"\\",\n \\"rmCode\\": \\"8717\\",\n \\"droppedReason\\": \\"\\",\n \\"applicationNum\\": \\"2800018513\\",\n \\"param1\\": \\"Signzy\\",\n \\"param2\\": \\"\\",\n \\"param3\\": \\"\\",\n \\"param4\\": \\"\\"\n }]"} |
| 3      | Journey In-complete                                                                          | pm2 logs search by application id                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 4      | Account opened                                                                               | pm2 logs search by application id                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 5      | Dropped                                                                                      | pm2 logs search by application id                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 6      | DVU verification or Exception to RM                                                          | pm2 logs search by application id                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|        |                                                                                              |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 7      | Lead pushed by Imax API                                                                      | To be asked by LMS.                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 8      | PAN CIF Check API                                                                            | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 9      | Aadhaar CIF Check API                                                                        | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 10     | CRILC API                                                                                    | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 11     | Clari5 API                                                                                   | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 12     | IMPS API                                                                                     | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 13     | OTP API                                                                                      | pm2 logs, based on phone number, phone number is taken from mongodb                              | {"method":"POST","url":"https://IndusInstapin.indusind.com:8443/OtpValidationService/services/OtpValidationServiceController","time":true,"headers":{"Postman-Token":"99131f0d-4a10-4fd8-ba64-30776e665fd4","cache-control":"no-cache","SOAPAction":"","Content-Type":"application/xml"},"body":"\<soapenv:Envelope xmlns:soapenv=\\"http://schemas.xmlsoap.org/soap/envelope/\\" xmlns:ser=\\"http://service.otp.indus.http\\">\n \<soapenv:Header/>\n \<soapenv:Body>\n \<ser:generateOtpRequest>\n \<ser:mobileNum>9811084449\</ser:mobileNum>\n \<ser:channelId>SIGAUTH\</ser:channelId>\n \</ser:generateOtpRequest>\n \</soapenv:Body>\n \</soapenv:Envelope>"}                |
|        | SMS API for Following                                                                        |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 14     | Contract Signing-Pending (Reminder)                                                          | pm2 logs, schedular directory                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 15     | Contract Signing-Pending (Reminder)                                                          | pm2 logs, schedular directory                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 16     | Contract Signing- Signed by all AUS                                                          | pm2 logs, based on phone number, phone number is taken from mongodb                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 17     | Opening of Current A/C post DVU approval                                                     | pm2 logs, based on phone number, phone number is taken from mongodb                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|        | E-mail for Following                                                                         |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 18     | Your IndusInd Current A/C application is awaiting approval from other Authorised Signatories | pm2 logs, schedular directory                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 19     | Reminder - Authorise your Current A/C opening application with IndusInd Bank                 | pm2 logs, schedular directory                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 20     | Your IndusInd Current A/C application is forwarded for verification                          | pm2 logs, based on phone number, email id is taken from mongodb                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 21     | Authorise your Current A/C opening application with IndusInd Bank                            | pm2 logs, based on phone number, email id is taken from mongodb                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 22     | Your IndusInd Current A/C \<No> is open and active for use                                   | pm2 logs, based on phone number, email id is taken from mongodb                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 23     | Your IndusInd Current A/C \<No> is open and active for use                                   | pm2 logs, based on phone number, email id is taken from mongodb                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|        |                                                                                              |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 24     | MAMN Block                                                                                   | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 25     | MAMN Enquiry                                                                                 | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 26     | LDAP                                                                                         | pm2 logs, timewise                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 27     | Finnacle - Corporate Creation                                                                | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 28     | Finnacle- Corporate Fetch                                                                    | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 29     | Finnacle - Retail Creation                                                                   | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 30     | Finnacle - Retail Fetch                                                                      | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 31     | CIF Linking                                                                                  | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 32     | CIF Fetch                                                                                    | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 33     | Iworks API                                                                                   | In Microservices                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 34     | FV mail                                                                                      | pm2 logs, schedular directory                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 35     | How to start the schedular and notification if that needs shuts down                         | pm2 start /root/microservices/indusind-back/modules/scheduler/cron.scheduler.js --name scheduler |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |



