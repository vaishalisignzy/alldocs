# Server Side Request Forgery

### Vulnerable API:

Face Extraction - Aadhar / PAN / DL / Passport\


### Severity:

High

### Description:

As mentioned above that this API is actually calling external domains to connect. Hence I gave the domain to localhost so that the API calls the localhost to connect. As expected the API returned a 500 Internal Server Error whose resulted in running a port scan on the server.

### Steps:

1. When making a request for face extraction for Aadhar card the API has an endpoint as

```javascript
"essentials": {
   "url":"https://persist.signzy.tech/api/files/753841/download/vGPLo49NyHhbndrSgHRbtPcbwaOt1k45nefFi8AYZLKFgum0Ek.png"
  }
```

![Normal WorkFlow of API](https://lh6.googleusercontent.com/YDkwuyNsY3fphkAIMUTa3Wqa42xmNqhE0cRJhjpkHkUouzmdpjFP5lsxHXjLLW-M768K6GuhJasWLc2dJdXMciwnvdFkkExaoR9nD2NbAUFLTT5TAucojmqow1khVjrJoLpXi-wu)

2.Here the URL parameter is vulnerable to SSRF attacks. Changing the   parameter of “**URL**”

```javascript
"essentials": {
   "url":"https://127.0.0.1:80"
  }
```

3\. Now checking the response

![Server Details when connected to Port 80](https://lh6.googleusercontent.com/BP9rQGnUHpmJhCEddZri1d12NjD4k260Stc8Mqadeznn3KcOZn2t-yYtM2Rqw6L11L034VmOQrPT8G050R7oUdfpkpDkDTielRFuYb-sX2YfgBqOEESMjXLWAFRWg0BjgDfIfvOv)



![Server Response when connecting to Port 8018](https://lh3.googleusercontent.com/PwsdOEOzsp206fIHUCLj2Bth6TK88S1B0dMDYs9RbfbTJ1YsXL4cA7zZVUeYkQe1NSCOrhsWd0pW2o3rInCAW4BNrrBuBjnspdReTF\_Y6xWNXOKwv\_mV\_GAq4jKYhKBrmj6I3rBl)

The URL parameter is vulnerable to SSRF as you can see that the details on two different ports i.e one 80 and another 8018.\
\
